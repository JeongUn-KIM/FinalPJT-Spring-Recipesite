<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage.MypageDAO" >

<select id="getMyZzimRecipeList" resultType="myrecipeVO" parameterType="int">
select a.recipe_no, a.user_no, a.recipe_date, a.recipe_title, a.recipe_name, a.recipe_nation, b.recipe_img1 
from recipe a left join rec_img b on a.recipe_no = b.recipe_no 
where a.recipe_no in (select recipe_no from zzim_recipe where user_no = #{user_no}) 
order by a.recipe_no asc
</select>

<select id="getMyRecipeList" resultType="myrecipeVO" parameterType="int">
select a.recipe_no, a.user_no, a.recipe_date, a.recipe_title, a.recipe_name, a.recipe_nation, b.recipe_img1 
from recipe a left join rec_img b on a.recipe_no = b.recipe_no 
where a.user_no = #{user_no} 
order by a.recipe_no asc
</select>

<select id="getMyZzimRecipeListDesc" resultType="myrecipeVO" parameterType="mynationVO">
select a.recipe_no, a.user_no, a.recipe_date, a.recipe_title, a.recipe_name, a.recipe_nation, b.recipe_img1 
from recipe a left join rec_img b on a.recipe_no = b.recipe_no 
where a.recipe_nation = #{recipe_nation} and a.recipe_no in (select recipe_no from zzim_recipe where user_no = #{user_no}) 
order by a.recipe_no asc
</select>

<select id="getMyRecipeListDesc" resultType="myrecipeVO" parameterType="mynationVO">
select a.recipe_no, a.user_no, a.recipe_date, a.recipe_title, a.recipe_name, a.recipe_nation, b.recipe_img1 
from recipe a left join rec_img b on a.recipe_no = b.recipe_no 
where a.recipe_nation = #{recipe_nation} and a.user_no = #{user_no} 
order by a.recipe_no asc
</select>

<delete id="deleteZzimRecipeOne" parameterType="myzzimVO">
delete from zzim_recipe where recipe_no = #{recipe_no} and user_no = #{user_no}
</delete>

</mapper>













